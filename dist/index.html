<!DOCTYPE html>
<html lang="en">
	<head>
		<title>three.js webgl - geometry - cube</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link type="text/css" rel="stylesheet" href="index.css">
	</head>
	<body>

		<!-- Import maps polyfill -->
		<!-- Remove this when import maps will be widely supported -->
		<script async src="https://unpkg.com/es-module-shims@1.3.6/dist/es-module-shims.js"></script>

		<script type="importmap">
			{
				"imports": {
                    "three": "./three.js-master/build/three.module.js",
					"three/addons/": "./three.js-master/examples/jsm/"
				}
			}
		</script>

		<script type="module">

			import * as THREE from 'three';
            import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
            import { ColladaLoader } from 'three/addons/loaders/ColladaLoader.js';

			let camera, controls, scene, renderer;
			let mesh, building;

			init();
			animate();

			function init() {
                scene = new THREE.Scene();

                renderer = new THREE.WebGLRenderer({antialias:true, alpha:true}); 
				renderer.setPixelRatio( window.devicePixelRatio );
				renderer.setSize( window.innerWidth, window.innerHeight );
				document.body.appendChild( renderer.domElement );

				camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 0.1, 2000 );
				camera.position.set( 2, 1, 5 );

				const light = new THREE.DirectionalLight( 0xaabbff, 5 );
				light.position.x = -30;
				light.position.y = 25;
				light.position.z = -50;
				scene.add( light );

                const dirLightHelper = new THREE.DirectionalLightHelper( light, 0.5 );
				scene.add( dirLightHelper );

                const hemiLight = new THREE.HemisphereLight( 0xffffff, 0xffffff, 1 );
				// hemiLight.color.setHSL( 0.6, 1, 0.6 );
				// hemiLight.groundColor.setHSL( 0.095, 1, 0.75 );
				hemiLight.position.set( 0, 30, 0 );
				scene.add( hemiLight );

				const hemiLightHelper = new THREE.HemisphereLightHelper( hemiLight, 10 );
				scene.add( hemiLightHelper );


                controls = new OrbitControls( camera, renderer.domElement );
                controls.update();

				const loadingManager = new THREE.LoadingManager( function () {
                        scene.add( building );
                       } );

                const loader = new ColladaLoader(loadingManager );
                      loader.load('TEST2.dae', function ( collada ) {
                         building = collada.scene;
                         });

				//

				window.addEventListener( 'resize', onWindowResize );

			}

			function onWindowResize() {

				camera.aspect = window.innerWidth / window.innerHeight;
				camera.updateProjectionMatrix();

				renderer.setSize( window.innerWidth, window.innerHeight );

			}

			function animate() {

				requestAnimationFrame( animate );

				// mesh.rotation.x += 0.005;
				// mesh.rotation.y += 0.01;
                controls.update();

				renderer.render( scene, camera );

			}

		</script>

	</body>
</html>